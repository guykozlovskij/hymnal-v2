import{o as n,c as o,a as t,w as h,v as u,F as c,r as m,n as d,t as i}from"./index-dee53ded.js";import{j as p}from"./hymnal-data-ece9846d.js";import{n as S}from"./new-hymns-510abbc1.js";const g={id:"home-view"},V=t("h1",null,"Himnynas",-1),y={id:"search-list"},f=["onClick"],v={data(){return{searchValue:"",hymnalData:p,newHymnsData:S,colors:["#d0e0fd","#acc9ff"]}},computed:{hymnsSearchable(){return this.hymnalData.map(a=>{const e=a.verses.map(s=>s.join()).join(),r=a.chorus?a.chorus.join():"";return e+r})},hymnsFiltered(){return this.searchValue.trim().length>0?this.hymnalData.filter((a,e)=>a.title.toLowerCase().includes(this.searchValue.toLowerCase())||this.hymnsSearchable[e].toLowerCase().includes(this.searchValue.toLowerCase())||String(a.number).includes(this.searchValue.toLowerCase())):this.hymnalData}},methods:{getSearchDataFromSate(){const a=sessionStorage.getItem("searchValue");a&&(this.searchValue=a)},saveSearchState(){sessionStorage.setItem("searchValue",this.searchValue)},onQueryChange(a){a.target.value.trim().length===0&&(this.response=null)}},created(){this.getSearchDataFromSate()}},j=Object.assign(v,{__name:"HomeView",setup(a){return(e,r)=>(n(),o("main",null,[t("section",g,[V,h(t("input",{onInput:r[0]||(r[0]=(...s)=>e.onQueryChange&&e.onQueryChange(...s)),id:"search-bar",onChange:r[1]||(r[1]=(...s)=>e.saveSearchState&&e.saveSearchState(...s)),"onUpdate:modelValue":r[2]||(r[2]=s=>e.searchValue=s),placeholder:"Paieška"},null,544),[[u,e.searchValue]]),t("section",y,[(n(!0),o(c,null,m(e.hymnsFiltered,(s,l)=>(n(),o("div",{class:"search-wrapper",key:l,onClick:C=>e.$router.push(`/hymns/${s.number}`),role:"link"},[t("div",{class:"search-result-line",style:d({backgroundColor:e.colors[l%2]})},[t("a",null,i(s.number)+". "+i(s.verses[0][0].replace(/\.$|\,$|\:$|\!$|\—$/,"")),1)],4)],8,f))),128))])])]))}});export{j as default};
